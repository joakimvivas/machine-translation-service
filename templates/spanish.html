<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Translation flask API for the Helsinki NLP</title>
    <link rel="icon" type="image/x-icon" href="/static/images/language-solid.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <style>
        .container {
            width: 70%;
            max-width:initial;
        }
        .container > .row {
            margin: 0;
        }
        .container > .row > .col {
            padding: 0;
        }
        textarea {
            font-size: 18px;
            padding: 10px;
            width: 70%; 
            height: 300px;
            max-width:initial;
        }
        .material-icons.md-14 { 
            font-size: 14px;
            color: #d50000
        }
        .material-icons.md-48 { 
            font-size: 48px;
            color: #00bfa5
        }
    </style>

</head>

<script>
function myFunction() {
var input= $('#input').val();
  $.ajax({
              url: "/translate_es_en",
              type: "POST",
              data: {input:input}
          }).done(function(response) {
            var html= "</p><b>RESULT:<b></p>";
            response =response.result;
                 $.each(response,function(key,val){
                 console.log(val);
                    html+="<textarea>"+val+"</textarea>"
                });
                $(".show-data").append(html);
            });
};
</script>

<body>
    <div class="container">
        <p><h3><i class="material-icons left md-48">translate</i> Translation App</h3></p>
        <div class="row">
            <div class="input-field col s12">
                <button class="btn teal accent-4" onclick="location.href='./'">English to Spanish<i class="material-icons right">flag</i></button>
                <button class="btn teal darken-4" onclick="location.href='./spanish'">Spanish to English<i class="material-icons right">flag</i></button>
            </div>
            <div class="input-field col s12">
                <textarea placeholder="Type to Translate" name="input" id="input"></textarea><br><br>
                <button class="btn teal accent-4" id="clicked" onclick="myFunction()">Translate<i class="material-icons right">send</i></button>
                <button class="btn red accent-4" onClick="window.location.reload();">Reset<i class="material-icons right">clear</i></button>
                <!-- Icons: https://materialui.co/icon/ -->
                <!-- Colors: https://materializecss.com/color.html -->
            </div>
            <div class="show-data">
            </div>
        </div>

    </div>

    <script type="text/javascript">
        textarea = document.querySelector("#input");
        textarea.addEventListener('input', autoResize, false);
        function autoResize() {
            this.style.height = '300px';
            this.style.height = this.scrollHeight + 'px';
        }
    </script>
</body>

<footer>
    <div class="container">
        <div class="row">
            <div class="input-field col s12">
                <p>This is a <b>Python Flask application</b> based on the <a href="https://huggingface.co" target="_blank">Huggingface</a> transformer library with the "<a href="https://huggingface.co/Helsinki-NLP/opus-mt-en-es" target="_blank">Helsinki-NLP/opus-mt-en-en-es</a>" model developed by the <a href="https://blogs.helsinki.fi/language-technology/" target="_blank">Language Technology Research Group of the University of Helsinki</a>.</p>
                <p>Developed with <i class="material-icons md-14">favorite</i> in Barcelona, by <a href="https://www.joakimvivas.com/" target="_blank">@JoakimVivas</a> | <a href="https://github.com/joakimvivas/machine-translation-service/blob/main/LICENSE" target="_blank">MIT License</a> | <a href="https://github.com/joakimvivas/machine-translation-service" target="_blank">Contributions</a> | <a href="https://github.com/joakimvivas/machine-translation-service/discussions" target="_blank">Discussions</a></p>
            </div>
        </div>
    </div>
</footer>

</html>